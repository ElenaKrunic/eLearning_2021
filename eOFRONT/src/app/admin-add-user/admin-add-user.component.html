
<div class="submit-form">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Username</label>
        <input
          type="text"
          formControlName="username"
          class="form-control"
          [(ngModel)]="user.username" 
          id = "username"
          name="username"
          [ngClass]="{ 'is-invalid': submitted && f.username.errors }"
        />
        <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
          <div *ngIf="f.username.errors.required">Username is required</div>
          <div *ngIf="f.username.errors.minlength">
            Username must be at least 3 characters long
          </div>
          <div *ngIf="f.username.errors.maxlength">
            Username must not exceed 13 characters
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Password</label>
        <input
          type="password"
          formControlName="password"
          class="form-control"
          [(ngModel)]="user.password" 
          id = "password"
          name="password"
          [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
        />
        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
          <div *ngIf="f.password.errors.required">Password is required</div>
        </div>
      </div>



    
      <div *ngIf="submitted">
        <h4> The user was added successfully!</h4>
        <button class="btn btn-success" (click)="newUser()"> Add new user </button>
    </div>

      <div class="form-group">
       <button (click)="saveUser()" class="btn btn-success"> Submit </button>
        <button
          type="button"
          (click)="onReset()"
          class="btn btn-warning float-right"
        >
          Reset
        </button>
      </div>
    </form>

    <!--
      <div>
      <h4>Authorities</h4>
        <table class="table">
          <tr *ngFor="let authority of user.authorities">
            <td class="color_text">
              {{authority.name}}
              <button type="button" class="btn btn-danger btn-sm" (click)="removeAuthority(authority.name)">X</button>
            </td>
          </tr>
        </table>
       
  <div *ngIf="unassignedAuthorities.length > 0" class="col-md-7 pr-md-1 btn-group ml-5">
      <select class='form-control' [(ngModel)]="authorityName" [ngModelOptions]="{standalone: true}">
        <option *ngFor="let authority of unassignedAuthorities" class="black_text_color" value="{{authority.name}}">{{authority.name}}</option>
      </select>
      <div class="text-right">
        <button type="button" class="btn btn-primary btn-sm ml-1" (click)="assignAuthority()">+</button>
      </div>
    </div>
  -->
  </div>
